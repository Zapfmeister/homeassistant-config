playlist_mopidy:
  sequence:
    - service: media_player.shuffle_set
      data:
        shuffle: 'true'
    - service: shell_command.get_playlist
      data_template:
        playlist: "{{ playlist }}"
    - service: shell_command.jarvis_says
      data_template:
        speech: '"OK, playing {{ states("sensor.mopidy_playlist") |replace("(by topsify)","") }} playlist"'
    - delay: 00:00:03
    - service: media_player.play_media
      data_template:
        entity_id: media_player.mopidy
        media_content_type: playlist
        media_content_id: >-
          {{ states('sensor.mopidy_playlist') }}
    - service: media_player.media_next_track

resume_mopidy:
  sequence:
    - condition: state
      entity_id: media_player.mopidy
      state: "paused"
    - service: shell_command.jarvis_says
      data:
        speech: '"OK, resuming music"'
    - delay: 00:00:03
    - service: media_player.media_play

pause_mopidy:
  sequence:
    - condition: state
      entity_id: media_player.mopidy
      state: "playing"
    - service: media_player.media_pause
    - delay: 00:00:01
    - service: shell_command.jarvis_says
      data:
        speech: '"OK, pausing music"'

volume_up_mopidy:
  sequence:
    - service: media_player.volume_up
    - service: media_player.volume_up

volume_down_mopidy:
  sequence:
    - service: media_player.volume_down
    - service: media_player.volume_down

next_track_mopidy:
  sequence:
    - service: media_player.media_next_track
    - service: shell_command.jarvis_says
      data:
        speech: '"OK, skipping track"'

previous_track_mopidy:
  sequence:
    - service: media_player.media_previous_track
    - service: shell_command.jarvis_says
      data:
        speech: '"OK, playing the previous track"'

play_christmas:
  sequence:
    - service: media_player.play_media
      data:
        entity_id: media_player.mopidy
        media_content_type: playlist
        media_content_id: 'Christmas Playlist (by filtr)'
    - service: shell_command.jarvis_says
      data:
        speech: '"OK, playing christmas playlist"'

play_altpop:
  sequence:
    - service: media_player.play_media
      data:
        entity_id: media_player.mopidy
        media_content_type: playlist
        media_content_id: 'Adult Alternative (by topsify)'
    - service: shell_command.jarvis_says
      data:
        speech: '"OK, playing alternative playlist"'



